<html>

<head>
    <title>Rust Knowledge Quiz</title>
    <!--importing prism-->
    <link href="prism.css" rel="stylesheet"/>
    
    <style>
        h1 {
            text-align: center;
        }

        h2 {
            text-align: center;
        }

        p {
            text-align: left;
            font-size: 16px;
        }

        code {
            /*text-align: left;
            font-size: 16px;
            font-family: 'Courier New', Courier, monospace;
            */
            
            /*make it so people can't copy paste*/
            
            user-select: none; /*disable text selection*/
            -moz-user-select: none;
            -webkit-user-select: none;
            -ms-user-select: none;
            pointer-events: none; /*disable mouse events */
        }

        /* .questions {
    text-align: left;
    font-size: 16;
}

.container{
    margin-left: 100px;
    margin-right: 100px;
} */

        body {
            display: flex;
            justify-content: center;
            align-items: left;
        }

        #warn {
            color: red;
            text-align: center;
        }

        .input-group {
            display: flex;
            flex-direction: column;
            align-items: stretch;
        }
    </style>

    <script src="prism.js"></script>

</head>

<body>
    <div id="container">
        <h1>Rust Knowledge Quiz</h1>

        <section>
            <h2>Question 1</h2>
            <p id="warn"></p>
            <div class="questions">
                <p>
                    What will happen when the program is run? (Modified from "The Rust 
                    Programming Language" by Steve Klabnik and Carol Nichols)
                </p>
                <pre><code class = "language-rust">
                    use std::ops::Deref;
                    <br>
                    <br>#[derive(Clone, Copy)]
                    <br>struct AccessLogger(i32);
                    <br>
                    <br>impl Deref for AccessLogger {
                    <br>&nbsp type Target = i32;
                    <br>&nbsp fn deref(&self) -> &Self::Target {
                    <br>&nbsp&nbsp println!("deref");
                    <br>&nbsp&nbsp &self.0
                    <br>&nbsp }
                    <br>}
                    <br>
                    <br>fn main() {
                    <br>&nbsp let n = AccessLogger(-1);
                    <br>&nbsp let x = *n + 1;
                    <br>&nbsp let n2 = n
                    <br>&nbsp println!("{} {}", x, *n);
                    <br>}
                </code></pre>
                <br>
                <!--answer: deref /n deref /n 0 -1 will be printed out-->
                <input type="radio" id="q1a" name="q1a">
                <label for="q1a">The program will not compile because the <code>Deref</code> trait cannot be implemented for a custom struct </label><br>
                <br>
                <input type="radio" id="q1b" name="q1b">
                <label for="q1b">The program will pass the compiler and output:  <br><code>&nbsp&nbsp&nbsp deref<br>&nbsp&nbsp&nbsp deref<br>&nbsp&nbsp&nbsp deref<br>&nbsp&nbsp&nbsp 0 -1</code></label><br>
                <br>
                <input type="radio" id="q1c" name="q1c">
                <label for="q1c">The program will pass the compiler and output:  <br><code>&nbsp&nbsp&nbsp deref<br>&nbsp&nbsp&nbsp deref<br>&nbsp&nbsp&nbsp 0 -1</code></label><br>
                <br>
                <input type="radio" id="q1d" name="q1d">
                <label for="q1d">The program will pass the compiler and output:  <br><code>&nbsp&nbsp&nbsp deref<br>&nbsp&nbsp&nbsp 0 -1</code></label><br>
                <br>
            </div>
        </section>

        <section>
            <h2>Question 2</h2>
            <p id="warn"></p>
            <div class="questions">
                <p>
                    What will happen when the program is run?
                </p>
                <pre><code class = "language-rust">
                    fn main() {
                    <br>&nbsp let a = String::from("hello");
                    <br>&nbsp let b = &a;
                    <br>&nbsp let c = *b;
                    <br>&nbsp println!("{} {} {}", a, b, c);
                    <br>}
                </code></pre>
                <br>
                <!--answer: b (error E0507 cannot move out of *b which is behind a shared reference)-->
                <input type="radio" id="q2a" name="q2a">
                <label for="q2a">The program will not compile because <code>c</code> is incorrectly dereferenced</label><br>
                <br>
                <input type="radio" id="q2b" name="q2b">
                <label for="q2b">The program will not compile because there is a type mismatch when dereferencing <code>b</code></label><br>
                <br>
                <input type="radio" id="q2c" name="q2c">
                <label for="q2c">The program will not compile because variable <code>c</code> is not a reference</label><br>
                <br>
                <input type="radio" id="q2d" name="q2d">
                <label for="q2d">The program will pass the compiler and output:  <br><code>&nbsp&nbsp&nbsp hello<br>&nbsp&nbsp&nbsp hello<br>&nbsp&nbsp&nbsp hello</code></label><br>
                <br>
            </div>
        </section>

        <section>
            <h2>Question 3</h2>
            <p id="warn"></p>
            <div class="questions"> 
                <p>
                    Choose the options below that, if put into the blank ("__"), will allow the code to compile.
                </p>
                <pre><code class = "language-rust">
                    use std::ops::Deref;
                    <br>
                    <br>fn f (x:i32) {}
                    <br>
                    <br>fn main() {
                    <br>&nbsp let i = 8;
                    <br>&nbsp let ir = &i;
                    <br>&nbsp f(__);
                    <br>}
                </code></pre>
                <br>
                <input type="checkbox" id="q3a" name="q3a">
                <label for="q3a"> *ir</label><br> <!--works-->
                <input type="checkbox" id="q3b" name="q3b">
                <label for="q3b"> ir</label><br> <!--doesn't work-->
                <input type="checkbox" id="q3c" name="q3c">
                <label for="q3c"> &ir</label><br> <!--doesn't work-->
            </div>
        </section>

        <section>
            <h2>Question 4</h2>
            <p id="warn"></p>
            <div class="questions"> 
                <p>
                    Choose the options below that, if put into the blank ("__"), will correctly print out "42".
                </p>
                <pre><code class = "language-rust">
                    use std::ops::Deref;
                    <br>struct IntContainer {
                    <br>&nbsp contents: i32,
                    <br>}
                    <br>
                    <br>impl Deref for IntContainer {
                    <br>&nbsp type Target = i32;
                    <br>&nbsp fn deref(&self) -> &Self::Target {
                    <br>&nbsp&nbsp &self.contents
                    <br>&nbsp }
                    <br>}
                    <br>
                    <br>fn main() {
                    <br>&nbsp let i = IntContainer {contents: 42};
                    <br>&nbsp let ir = &i;
                    <br>&nbsp //fill in the blank below
                    <br>&nbsp let theInt : &i32 = __;
                    <br>&nbsp print!("{}", theInt);
                    <br>}
                </code></pre>
                <br>
                <input type="checkbox" id="q4a" name="q4a">
                <label for="q4a"> ir</label><br>
                <input type="checkbox" id="q4b" name="q4b">
                <label for="q4b"> *ir</label><br> <!--doesn't work-->
                <input type="checkbox" id="q4c" name="q4c">
                <label for="q4c"> &(ir)</label><br>
            </div>
        </section>

        <section>
            <h2>Question 5</h2>
            <p id="warn"></p>
            <div class="questions"> 
                <p>
                    Select the all the code options that, when placed into the blanks, will correctly print out "42" for that value.
                </p>
                <pre><code class = "language-rust">
                    use std::ops::Deref;
                    <br>
                    <br>struct S {
                    <br>&nbsp u:u32,
                    <br>}
                    <br>
                    <br>impl S {
                    <br>&nbsp fn f(&self) {}
                    <br>}
                    <br>
                    <br>fn take_s(_s: &S) {
                    <br>&nbsp //Fill in the blank so 42 will be printed
                    <br>&nbsp println!("{}", __); //LINE A
                    <br>}
                    <br>
                    <br>fn main() {
                    <br>&nbsp let s = S {u: 42};
                    <br>&nbsp let sr = &s;
                    <br>&nbsp sr.f();
                    <br>&nbsp take_s(sr);
                    <br>}
                </code></pre>
                <br>
                <input type="checkbox" id="q5a" name="q5a">
                <label for="q5a"> _s.u</label><br>
                <input type="checkbox" id="q5b" name="q5b">
                <label for="q5b"> (*_s).u</label><br>
                <br>
            </div>
        </section>

        <section>
            <h2>Question 6</h2>
            <p id="warn"></p>
            <div class="questions">
                <p>
                    What are the lifetimes of the following variables in this code? (Line numbers are labeled in parentheses)
                </p>
                <pre><code class = "language-rust">
                    (1) fn main() { 
                    <br>(2) &nbsp let r;
                    <br>(3) &nbsp { 
                    <br>(4) &nbsp&nbsp let x = 5;
                    <br>(5) &nbsp&nbsp r = &x;
                    <br>(6) &nbsp }
                    <br>(7) &nbsp println!("r: {}", r);
                    <br>(8) }
                </code></pre>
                <br>
                <!--r's lifetime is 2-8; x's lifetime is 4-6 -->
                <p>When does the lifetime of <code>r</code> begin?</p> <!--answer: 2-->
                <input type="radio" id="q6a1" name="q6a1">
                <label for="q6a1">Line 2 </label><br>
                <input type="radio" id="q6a2" name="q6a2">
                <label for="q6a2">Line 4 </label><br>
                <input type="radio" id="q6a3" name="q6a3">
                <label for="q6a3">Line 5 </label><br>
                <input type="radio" id="q6a4" name="q6a4">
                <label for="q6a4">Line 7 </label><br>
                <br>

                <p>When does the lifetime of <code>r</code> end?</p> <!--answer: 7-->
                <input type="radio" id="q6b1" name="q6b1">
                <label for="q6b1">Line 2 </label><br>
                <input type="radio" id="q6b2" name="q6b2">
                <label for="q6b2">Line 4 </label><br>
                <input type="radio" id="q6b3" name="q6b3">
                <label for="q6b3">Line 5 </label><br>
                <input type="radio" id="q6b4" name="q6b4">
                <label for="q6b4">Line 7 </label><br>
                <br>
                
                <p>When does the lifetime of <code>x</code> begin?</p> <!--answer: 4-->
                <input type="radio" id="q6c1" name="q6c1">
                <label for="q6c1">Line 2</label><br>
                <input type="radio" id="q6c2" name="q6c2">
                <label for="q6c2">Line 4</label><br>
                <input type="radio" id="q6c3" name="q6c3">
                <label for="q6c3">Line 5</label><br>
                <input type="radio" id="q6c4" name="q6c4">
                <label for="q6c4">Line 7</label><br>
                <br>

                <p>When does the lifetime of <code>x</code> end?</p> <!--answer: 5-->
                <input type="radio" id="q6d1" name="q6d1">
                <label for="q6d1">Line 2 </label><br>
                <input type="radio" id="q6d2" name="q6d2">
                <label for="q6d2">Line 4 </label><br>
                <input type="radio" id="q6d3" name="q6d3">
                <label for="q6d3">Line 5 </label><br>
                <input type="radio" id="q6d4" name="q6d4">
                <label for="q6d4">Line 7 </label><br>
                <br>
            </div>
        </section>

<!--
    <script>
        document.getElementById('submit').addEventListener("click", () => {

            let yearsOfExp = document.getElementById("yearsOfExp").value;
            let rustExp = document.getElementById("rustExp").value;
            if (rustExp == -1) {
                document.getElementById("warn").innerHTML = "One or more questions are unanswered.";
                document.getElementById("rustExp").focus();
                return;
            }
            let linesOfCode = document.getElementById("linesOfCode").value;
            if (linesOfCode == -1) {
                document.getElementById("warn").innerHTML = "One or more questions are unanswered.";
                document.getElementById("linesOfCode").focus();
                return;
            }

            let java = document.querySelectorAll('input[name="java"]');
            let javaExp = '';
            for (const rb of java) {
                if (rb.checked) {
                    javaExp = rb.value;
                    break;
                }
            }
            if (javaExp == '') {
                document.getElementById("warn").innerHTML = "One or more questions are unanswered.";
                document.getElementById("java").focus();
                return;
            }

            let javascript = document.querySelectorAll('input[name="javascript"]');
            let jsExp = '';
            for (const rb of javascript) {
                if (rb.checked) {
                    jsExp = rb.value;
                    break;
                }
            }
            if (jsExp == '') {
                document.getElementById("warn").innerHTML = "One or more questions are unanswered.";
                document.getElementById("js").focus();
                return;
            }

            let clang = document.querySelectorAll('input[name="clang"]');
            let cExp = '';
            for (const rb of clang) {
                if (rb.checked) {
                    cExp = rb.value;
                    break;
                }
            }
            if (cExp == '') {
                document.getElementById("warn").innerHTML = "One or more questions are unanswered.";
                document.getElementById("c").focus();
                return;
            }

            let python = document.querySelectorAll('input[name="python"]');
            let pythonExp = '';
            for (const rb of python) {
                if (rb.checked) {
                    pythonExp = rb.value;
                    break;
                }
            }
            if (pythonExp == '') {
                document.getElementById("warn").innerHTML = "One or more questions are unanswered.";
                document.getElementById("python").focus();
                return;
            }

            let rustBook = document.getElementById("resources1").checked;
            let youtube = document.getElementById("resources2").checked;
            let stackOverflow = document.getElementById("resources3").checked;
            let other = document.getElementById("resources4").checked;

            let industry = document.getElementById("industry").value;
            if (industry == "") {
                document.getElementById("warn").innerHTML = "One or more questions are unanswered.";
                document.getElementById("industry").focus();
                return;
            }
            let gender = document.getElementById("gender").value;
            if (gender == -1) {
                document.getElementById("warn").innerHTML = "One or more questions are unanswered.";
                document.getElementById("gender").focus();
                return;
            }
            let age = document.getElementById("age").value;
            if (age == -1) {
                document.getElementById("warn").innerHTML = "One or more questions are unanswered.";
                document.getElementById("age").focus();
                return;
            }
            let degree = document.getElementById("degree").value;
            if (degree == -1) {
                document.getElementById("warn").innerHTML = "One or more questions are unanswered.";
                document.getElementById("degree").focus();
                return;
            }

            // //checking rustExp - how long they've been programming in Rust
            // if(document.getElementById("rustExp").value==-1){
            //     window.alert("Please tell us how long you've been programming in Rust.");
            // }
            // //checking java, javascript, clang, and python - what programming languages they have experience in
            // else if(document.querySelector('input[name="java"]:checked')==null
            // || document.querySelector('input[name="javascript"]:checked')==null
            // || document.querySelector('input[name="clang"]:checked')==null
            // || document.querySelector('input[name="python"]:checked')==null){
            //     window.alert("Please tell us what programming languages you have experience in.");
            // }
            // //checking resources - what resources they used to learn Rust
            // else if(!(document.getElementById("resources1").checked
            // ||document.getElementById("resources2").checked
            // ||document.getElementById("resources3").checked
            // ||document.getElementById("resources4").checked)) {
            //     window.alert("Please tell us how you learned Rust.");
            // }
            // //checking linesOfCode - how many lines of code they have written
            // else if(document.getElementById("linesOfCode").value==-1){
            //     window.alert("Please tell us how many lines of code you've written in Rust.");
            // }
            // //checking industry
            // else if(document.getElementById("industry").value=="Select"){
            //     window.alert("Please select your industry.");
            // }
            // //checking gender
            // else if(document.getElementById("gender").value==-1){
            //     window.alert("Please select your gender.");
            // }
            // //checking age
            // else if(document.getElementById("age").value==-1){
            //     window.alert("Please select your age.");
            // }
            // //checking degree
            // else if(document.getElementById("degree").value==-1){
            //     window.alert("Please select your level of education.");
            // }
            // else{
            //     //close webview, move onto thank you page
            //     window.location.replace("thankyoumessage.html");
            // }


            let results = {
                "experience": {
                    "codingExp": yearsOfExp,
                    "rustExp": rustExp,
                    "linesOfCode": linesOfCode,
                },
                "languages": {
                    "java": javaExp,
                    "javascript": jsExp,
                    "c": cExp,
                    "python": pythonExp,
                },
                "resources": {
                    "rustBook": rustBook,
                    "youtube": youtube,
                    "stackOverflow": stackOverflow,
                    "other": other,
                },

                "demographics": {
                    "industry": industry,
                    "gender": gender,
                    "age": age,
                    "degree": degree
                }
            }
            console.log(results);

            //Send a message to the extension with the form data
            const vscode = acquireVsCodeApi();
            vscode.postMessage({
                command: 'submitSurvey',
                text: results
            });
        });
    </script>
-->
</html>